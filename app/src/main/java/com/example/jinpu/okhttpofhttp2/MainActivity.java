package com.example.jinpu.okhttpofhttp2;import android.content.Context;import android.os.AsyncTask;import android.os.Bundle;import android.support.design.widget.FloatingActionButton;import android.support.design.widget.Snackbar;import android.support.v7.app.AppCompatActivity;import android.support.v7.widget.Toolbar;import android.text.method.ScrollingMovementMethod;import android.util.Log;import android.view.View;import android.view.Menu;import android.view.MenuItem;import android.webkit.WebSettings;import android.webkit.WebView;import android.widget.Button;import android.widget.TextView;import com.squareup.okhttp.Headers;import com.squareup.okhttp.Response;import java.io.IOException;import java.io.InputStream;import Http1Test.Http1ClientTest;import Http2Test.Test;import RequestSend.SendRequest;public class MainActivity extends AppCompatActivity {    private static TextView text;    private static Button button;    //private Asyctask mAsyncTask;    private Response response;    private Test test = new Test();    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        button = (Button) findViewById(R.id.id_button);        button.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                String url = "https://www.apps98.com:8081/712/";                new SendRequest(url,100).SendHttp1Request();                //new SendRequest(url,5).SendHttp2Request();                //new Http1ClientTest(url,2).start();               //mAsyncTask = new Asyctask();               //mAsyncTask.execute();                /*new Thread(new Runnable() {                    @Override                    public void run(){                        try{                            test.ConNet("https://www.apps98.com","8081/712/",3  );                            //test.ConNet("https://www.baidu.com",null,2);                        }catch (IOException e){                            e.printStackTrace();                        }                    }                }).start();*/            }        });    }    //内部类，实现网络链接的异步任务    /*    class Asyctask extends AsyncTask<String, Void, Response> {        @Override        protected void onPreExecute() {            super.onPreExecute();        }        //onPostExecute中执行ui操作        @Override        protected void onPostExecute(Response response) {            super.onPostExecute(response);            Headers headers = response.headers();            String result = "Protocol : " + headers.get("OkHttp-Selected-Protocol") + "\n\n";            for (int i = 0; i < headers.size(); i++) {                result += headers.name(i) + " : " + headers.value(i) + "\n\n";            }            result += response.toString();            result += response.body().toString();            text = (TextView) findViewById(R.id.id_textview);            text.setText(result);            text.setMovementMethod(ScrollingMovementMethod.getInstance());        }        //doInBackground执行网络任务        @Override        protected Response doInBackground(String... params) {                    //h2test = new H2Test();                    test = new Test();                    try{                        //response = h2test.ConnetionUrl("https://http2.akamai.com/demo/h2_demo_frame.html");                        //String str = h2test.getBody("https://http2.akamai.com/demo/h2_demo_frame.html");                        //response = h2test.ConnetionUrl();                        test.ConNet("http://www.apps98.com","8080/116/",100);                        //Log.i("jinputest",str);dou huibuqu                     }catch (IOException e){                        e.printStackTrace();                    }            return response;        }    }    */}